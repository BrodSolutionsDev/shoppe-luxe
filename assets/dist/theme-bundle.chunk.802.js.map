{"version":3,"file":"theme-bundle.chunk.802.js","mappings":"2NAAaA,EAAY,WACrB,SAAAA,EAAYC,GACRC,KAAKC,QAAUF,EAASG,KAAK,uBAC7BF,KAAKG,QAAUJ,EAASG,KAAK,qBAC7BF,KAAKI,aAAe,CAAC,EACrBJ,KAAKK,YACT,CAAC,IAAAC,EAAAR,EAAAS,UA2BA,OA3BAD,EAEDE,eAAA,SAAeC,GACXA,EAAEC,iBAEF,IAAMC,EAAUC,EAAEH,EAAEI,eAEpBb,KAAKI,aAAe,CAChBU,GAAIH,EAAQI,KAAK,WACjBC,eAAgBL,GAGpBX,KAAKiB,eACLjB,KAAKkB,gBACT,EAACZ,EAEDW,aAAA,WACIjB,KAAKC,QAAQkB,KAAK,MAAO,2BAA2BnB,KAAKI,aAAaU,GAC1E,EAACR,EAEDY,eAAA,WACIlB,KAAKG,QAAQiB,YAAY,aACzBpB,KAAKI,aAAaY,eAAeK,SAAS,YAC9C,EAACf,EAEDD,WAAA,WACIL,KAAKG,QAAQmB,GAAG,QAAStB,KAAKQ,eAAee,KAAKvB,MACtD,EAACF,CAAA,CAjCoB,G,0JCSiB,IAErB0B,EAAO,SAAAC,G,QACxB,SAAAD,EAAYE,GAAS,IAAAC,EAKwC,OAJzDA,EAAAF,EAAAG,KAAA,KAAMF,IAAQ,MACTG,IAAMC,OAAOC,SAASC,KAC3BL,EAAKM,YAAcrB,EAAE,wCACrBe,EAAKO,iBAAmBtB,EAAE,yCAC1Be,EAAKQ,aAAcC,EAAAA,EAAAA,IAAa,sBAAsB,GAAGT,CAC7D,C,EAPwBF,G,EAAAD,G,sEAOvB,IAAAlB,EAAAkB,EAAAjB,UAiEA,OAjEAD,EAED+B,QAAA,WAAU,IAQFC,EDSFC,ECjBIC,EAAA,KAEN5B,EAAE6B,UAAUnB,GAAG,sBAAsB,YACU,IAAvCkB,EAAKX,IAAIa,QAAQ,kBAAkE,mBAAhCZ,OAAOa,QAAQC,cAClEd,OAAOa,QAAQC,aAAa,KAAMH,SAASI,MAAOf,OAAOC,SAASe,SAE1E,KAKAC,EAAAA,EAAAA,MAEA/C,KAAKgD,eAAiB,IAAIC,EAAAA,EAAerC,EAAE,gBAAiBZ,KAAK0B,QAASI,OAAOoB,OAAOC,oBACxFnD,KAAKgD,eAAeI,oBDIFxC,EAAE,UADlB2B,EAAY,iBACwB,KAE5Bc,MAAK,SAACC,EAAOC,GACvB,IAAMC,EAAM5C,EAAE2C,GACQC,EAAIzC,KAAKwB,aAAsBzC,GAMrD0D,EAAIzC,KAAKwB,EAAW,IAAIzC,EAAa0D,GACzC,ICXIxD,KAAKyD,qBAEL,IAAMC,GAAcC,EAAAA,EAAAA,IAAa,qBAEjC,GAA2B,IAAvBD,EAAYE,OAAhB,CAEA,IAAMC,EAAS,IAAIC,EAAAA,EAAO,CAAEJ,YAAAA,IAE5B9C,EAAE,QAAQU,GAAG,QAAS,wCAAwC,WAC1DgB,EAAYuB,EAAOE,mBAAmBvB,EAAKd,SAC3Cc,EAAKwB,yBAAyBN,EAClC,IAEAA,EAAYpC,GAAG,UAAU,WACrB,QAAIgB,IACAA,EAAU2B,eACH3B,EAAU4B,OAAO,SAIhC,IAEAlE,KAAKmE,sBAlB+B,CAmBxC,EAAC7D,EAED0D,yBAAA,SAAyBI,GACrBA,EAAMlE,KAAK,gBAAgBmD,MAAK,SAACgB,EAAGC,GAChC,IAAMC,EAAS3D,EAAE0D,GACXE,EAAeD,EAAOpD,KAAK,QAAO,OAExCoD,EAAOE,SAAS,QAAQtD,KAAK,KAAMqD,GACnCD,EAAOpD,KAAK,mBAAoBqD,EACpC,GACJ,EAAClE,EAED6D,qBAAA,YAC+C,IAAvCnE,KAAK6B,IAAIa,QAAQ,kBACjB1C,KAAKiC,YAAYyC,QAAQ,QAEjC,EAACpE,EAEDmD,mBAAA,YAC+C,IAAvCzD,KAAK6B,IAAIa,QAAQ,kBACjB1C,KAAKkC,iBAAiBwC,QAAQ,QAEtC,EAAClD,CAAA,CAxEuB,CAASmD,EAAAA,E","sources":["webpack://bigcommerce-cornerstone/./assets/js/theme/product/video-gallery.js","webpack://bigcommerce-cornerstone/./assets/js/theme/product.js"],"sourcesContent":["export class VideoGallery {\n    constructor($element) {\n        this.$player = $element.find('[data-video-player]');\n        this.$videos = $element.find('[data-video-item]');\n        this.currentVideo = {};\n        this.bindEvents();\n    }\n\n    selectNewVideo(e) {\n        e.preventDefault();\n\n        const $target = $(e.currentTarget);\n\n        this.currentVideo = {\n            id: $target.data('videoId'),\n            $selectedThumb: $target,\n        };\n\n        this.setMainVideo();\n        this.setActiveThumb();\n    }\n\n    setMainVideo() {\n        this.$player.attr('src', `//www.youtube.com/embed/${this.currentVideo.id}`);\n    }\n\n    setActiveThumb() {\n        this.$videos.removeClass('is-active');\n        this.currentVideo.$selectedThumb.addClass('is-active');\n    }\n\n    bindEvents() {\n        this.$videos.on('click', this.selectNewVideo.bind(this));\n    }\n}\n\nexport default function videoGallery() {\n    const pluginKey = 'video-gallery';\n    const $videoGallery = $(`[data-${pluginKey}]`);\n\n    $videoGallery.each((index, element) => {\n        const $el = $(element);\n        const isInitialized = $el.data(pluginKey) instanceof VideoGallery;\n\n        if (isInitialized) {\n            return;\n        }\n\n        $el.data(pluginKey, new VideoGallery($el));\n    });\n}\n","/*\n Import all product specific js\n */\nimport PageManager from './page-manager';\nimport Review from './product/reviews';\nimport collapsibleFactory from './common/collapsible';\nimport ProductDetails from './common/product-details';\nimport videoGallery from './product/video-gallery';\nimport { classifyForm } from './common/utils/form-utils';\nimport modalFactory from './global/modal';\n\nexport default class Product extends PageManager {\n    constructor(context) {\n        super(context);\n        this.url = window.location.href;\n        this.$reviewLink = $('[data-reveal-id=\"modal-review-form\"]');\n        this.$bulkPricingLink = $('[data-reveal-id=\"modal-bulk-pricing\"]');\n        this.reviewModal = modalFactory('#modal-review-form')[0];\n    }\n\n    onReady() {\n        // Listen for foundation modal close events to sanitize URL after review.\n        $(document).on('close.fndtn.reveal', () => {\n            if (this.url.indexOf('#write_review') !== -1 && typeof window.history.replaceState === 'function') {\n                window.history.replaceState(null, document.title, window.location.pathname);\n            }\n        });\n\n        let validator;\n\n        // Init collapsible\n        collapsibleFactory();\n\n        this.productDetails = new ProductDetails($('.productView'), this.context, window.BCData.product_attributes);\n        this.productDetails.setProductVariant();\n\n        videoGallery();\n\n        this.bulkPricingHandler();\n\n        const $reviewForm = classifyForm('.writeReview-form');\n\n        if ($reviewForm.length === 0) return;\n\n        const review = new Review({ $reviewForm });\n\n        $('body').on('click', '[data-reveal-id=\"modal-review-form\"]', () => {\n            validator = review.registerValidation(this.context);\n            this.ariaDescribeReviewInputs($reviewForm);\n        });\n\n        $reviewForm.on('submit', () => {\n            if (validator) {\n                validator.performCheck();\n                return validator.areAll('valid');\n            }\n\n            return false;\n        });\n\n        this.productReviewHandler();\n    }\n\n    ariaDescribeReviewInputs($form) {\n        $form.find('[data-input]').each((_, input) => {\n            const $input = $(input);\n            const msgSpanId = `${$input.attr('name')}-msg`;\n\n            $input.siblings('span').attr('id', msgSpanId);\n            $input.attr('aria-describedby', msgSpanId);\n        });\n    }\n\n    productReviewHandler() {\n        if (this.url.indexOf('#write_review') !== -1) {\n            this.$reviewLink.trigger('click');\n        }\n    }\n\n    bulkPricingHandler() {\n        if (this.url.indexOf('#bulk_pricing') !== -1) {\n            this.$bulkPricingLink.trigger('click');\n        }\n    }\n}\n"],"names":["VideoGallery","$element","this","$player","find","$videos","currentVideo","bindEvents","_proto","prototype","selectNewVideo","e","preventDefault","$target","$","currentTarget","id","data","$selectedThumb","setMainVideo","setActiveThumb","attr","removeClass","addClass","on","bind","Product","_PageManager","context","_this","call","url","window","location","href","$reviewLink","$bulkPricingLink","reviewModal","modalFactory","onReady","validator","pluginKey","_this2","document","indexOf","history","replaceState","title","pathname","collapsibleFactory","productDetails","ProductDetails","BCData","product_attributes","setProductVariant","each","index","element","$el","bulkPricingHandler","$reviewForm","classifyForm","length","review","Review","registerValidation","ariaDescribeReviewInputs","performCheck","areAll","productReviewHandler","$form","_","input","$input","msgSpanId","siblings","trigger","PageManager"],"sourceRoot":""}