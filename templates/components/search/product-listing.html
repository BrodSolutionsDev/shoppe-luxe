{{inject 'noCompareMessage' (lang 'compare.no_compare')}}
{{#if product_results.products.length}}
<div class="product-top-actions">
   
    <div class="product-left-section">
        
        <form class="result-per-page actionBar show-product" method="get" data-sort-by>
            {{> components/custom/bs-product-per-page products_per_page=products_per_page}}
       </form>
       <div class="CustomProductCount">      
        <p id="totalProducts"></p>
    </div>
    </div>
    <div class="product-right-action">
        {{> components/custom/bs-product-view-button}}
        {{#if product_results.products.length}}
            {{> components/products/filter sort=pagination.product_results.sort}}
        {{/if}}
        <div class="mobile-filter">
            <span class="filter-icon">
                <svg class="icon">
                    <use xlink:href="#icon-bs-filter" />
                </svg>
            </span>
            <span>
                Filter
            </span>
        </div>
    </div>
</div>
{{/if}}

<div class="product-view-mode" {{#if settings.data_tag_enabled}} data-list-name="Search Results" {{/if}} data-total-product="{{pagination.product_results.total}}">
    {{#if theme_settings.product_list_display_mode '===' 'grid'}}
        {{#if settings.data_tag_enabled}}
            {{> components/products/grid products=product_results.products show_compare=product_results.show_compare event="list" theme_settings=theme_settings}}
        {{else}}
            {{> components/products/grid products=product_results.products show_compare=product_results.show_compare theme_settings=theme_settings}}
        {{/if}}
    {{else}}
        {{#if settings.data_tag_enabled}}
            {{> components/products/list products=product_results.products show_compare=product_results.show_compare event="list" theme_settings=theme_settings}}
         {{else}}
            {{> components/products/list products=product_results.products show_compare=product_results.show_compare theme_settings=theme_settings}}
        {{/if}}
    {{/if}}
</div>

{{> components/common/paginator pagination.product_results}}
